# ระบบล็อกอิน (Login System) - WorkSync Pro

เอกสารนี้อธิบายการทำงานของระบบล็อกอินที่พัฒนาขึ้นตามความต้องการ โดยเชื่อมต่อกับ Supabase Authentication และมีการทดสอบอัตโนมัติด้วย Playwright

## 1. การออกแบบและฟีเจอร์ (Design & Features)

ระบบได้รับการออกแบบให้มีความทันสมัย รองรับ Responsive Design และใช้งานง่าย:
- **Title**: "Bunny Time"
- **Input**: รหัสพนักงาน (Employee ID) และ รหัสผ่าน (Password)
- **Feedback**: แสดงข้อความแจ้งเตือนเมื่อข้อมูลไม่ถูกต้องเป็นภาษาไทย
- **Forgot Password**: มีปุ่ม "ลืมรหัสผ่าน?" สำหรับรีเซ็ตรหัสผ่านผ่านอีเมล
- **Theme**: Dark Mode พร้อม Animation ที่สวยงาม

## 2. การเชื่อมต่อ Supabase (Integration)

ระบบเชื่อมต่อกับ Supabase Project
- **User Table**: ใช้ตาราง `auth.users` ของ Supabase โดยตรง
- **Authentication**: ใช้ Supabase JS SDK ในการจัดการ Session และ Login
- **Security**: ข้อมูลรหัสผ่านถูกเข้ารหัสและจัดการโดย Supabase (มาตรฐานความปลอดภัยสูงสุด)
- **Rate Limiting**: Supabase มีระบบป้องกัน Brute Force ในตัว

## 3. ไฟล์ที่เกี่ยวข้อง (Files)

- `views/Login.tsx`: หน้าจอ UI หลักของระบบล็อกอิน
- `services/supabase.ts`: ไฟล์ตั้งค่าการเชื่อมต่อ Supabase Client
- `App.tsx`: จัดการ Global State และ Session (หากไม่มี Session จะแสดงหน้า Login)
- `.env`: เก็บค่า `VITE_SUPABASE_URL` และ `VITE_SUPABASE_ANON_KEY`

## 4. การทดสอบ (Testing)

เราได้เขียนชุดทดสอบอัตโนมัติ (Automated Tests) ด้วย **Playwright** ในไฟล์ `tests/login.spec.ts` ครอบคลุมกรณีดังนี้:

| Test Case | รายละเอียด | ผลลัพธ์ |
|-----------|-----------|---------|
| **Display Form** | ตรวจสอบว่าหน้าจอปรากฏ Title "Bunny Time" และช่องกรอกครบถ้วน | ✅ Passed |
| **Validation Error** | ตรวจสอบว่าเมื่อกรอกรหัสผิด จะแสดงข้อความแจ้งเตือนภาษาไทยถูกต้อง | ✅ Passed |
| **Forgot Password** | ตรวจสอบว่ามีปุ่ม "ลืมรหัสผ่าน" และไม่มีปุ่มสม้ครสมาชิก | ✅ Passed |

## 5. วิธีการใช้งาน (Usage)

### การรันโปรเจค
```bash
npm run dev
```

### การรันทดสอบ
```bash
npx playwright test
```

## 6. หมายเหตุ (Notes)
- ปัจจุบันระบบปิดการสมัครสมาชิกใหม่ (Sign Up) ผ่านหน้าเว็บตามที่ร้องขอ หากต้องการเพิ่มผู้ใช้ใหม่ ต้องเพิ่มผ่าน Supabase Dashboard หรือติดต่อ Admin
- ปุ่ม "ลืมรหัสผ่าน" จะส่งอีเมลไปที่ที่อยู่อีเมลที่ผูกกับรหัสพนักงาน

---
*Generated by Antigravity*
